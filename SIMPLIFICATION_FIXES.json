{
  "release_blockers": {
    "priority": "critical",
    "discovered": "2025-09-25",
    "status": "identified",
    "fresh_user_test_results": {
      "test_method": "simulated fresh clone and setup",
      "pain_points_found": [
        {
          "id": "installation_hell",
          "severity": "critical",
          "description": "pip install -e . fails with externally-managed-environment error",
          "user_impact": "Users cannot install tools",
          "current_instructions": "cd document-evidence-analyzer && pip install -e .",
          "error_message": "externally-managed-environment",
          "fix_needed": "Update to uv-first instructions with fallback"
        },
        {
          "id": "empty_inboxes",
          "severity": "high",
          "description": "Fresh clone has empty inbox directories - no samples to test",
          "user_impact": "No immediate gratification, must copy samples manually",
          "current_state": "document-evidence-analyzer/inbox/ contains only README.md",
          "fix_needed": "Populate inboxes with sample files by default"
        },
        {
          "id": "command_inconsistency",
          "severity": "high",
          "description": "Two different command patterns confuse users",
          "user_impact": "Mental overhead, unclear how to use both tools",
          "current_commands": {
            "document": "document-analyzer analyze",
            "image": "uv run python -m image_analysis.cli ingest"
          },
          "fix_needed": "Make both use same pattern: uv run document-analyzer, uv run image-analyzer"
        },
        {
          "id": "image_console_script_broken",
          "severity": "medium",
          "description": "uv run image-analyzer fails in fresh environment",
          "user_impact": "Image analysis unusable with documented commands",
          "error": "Failed to spawn: `image-analyzer`",
          "fix_needed": "Fix package installation to register console script properly"
        }
      ]
    }
  },
  "fixes_required": [
    {
      "id": "fix_1",
      "title": "Fix installation instructions (biggest blocker)",
      "files_to_change": ["GETTING_STARTED.md", "document-evidence-analyzer/README.md", "image-analysis/README.md"],
      "actions": [
        "Replace pip install with uv-first instructions",
        "Add modern Python venv instructions as fallback",
        "Test on clean Ubuntu system",
        "Add troubleshooting section for common errors"
      ],
      "new_instructions": {
        "primary": "uv sync && uv pip install -e .",
        "fallback": "python3 -m venv .venv && source .venv/bin/activate && pip install -e ."
      }
    },
    {
      "id": "fix_2",
      "title": "Populate inboxes with samples by default (instant gratification)",
      "files_to_change": ["document-evidence-analyzer/inbox/", "image-analysis/inbox/"],
      "actions": [
        "Copy all sample documents to document-evidence-analyzer/inbox/",
        "Copy sample image to image-analysis/inbox/",
        "Update .gitignore to include these files in repo",
        "Test fresh clone has working samples immediately"
      ],
      "verification": "Fresh user can run commands immediately without setup"
    },
    {
      "id": "fix_3",
      "title": "Make both commands work the same way (reduce confusion)",
      "files_to_change": ["image-analysis/pyproject.toml", "GETTING_STARTED.md", "*/USER_GUIDE.md"],
      "actions": [
        "Fix image-analysis console script registration",
        "Update all documentation to use consistent patterns",
        "Choose: either both use uv run, or both are direct commands",
        "Test both commands work identically post-install"
      ],
      "decision_needed": "Unified command pattern preference"
    },
    {
      "id": "fix_4",
      "title": "Clean database setup script (clear state)",
      "files_to_change": ["image-analysis/scripts/", "documentation"],
      "actions": [
        "Create scripts/reset_database.sh",
        "Add database status checking command",
        "Document when/why to reset database",
        "Add to troubleshooting guides"
      ],
      "database_issues": {
        "location": "image-analysis/db/evidence.sqlite",
        "problem": "Old analysis data causes UNIQUE constraint errors",
        "solution": "Clear script + better user guidance"
      }
    }
  ],
  "success_criteria": {
    "fresh_user_test": "Clone repo, follow instructions, both tools work within 5 minutes",
    "command_consistency": "Both tools use identical command patterns",
    "immediate_gratification": "Sample analysis works without additional file copying",
    "documentation_clarity": "Installation instructions work on clean systems"
  },
  "implementation_order": [
    "fix_1 (installation)",
    "fix_2 (populate inboxes)",
    "fix_3 (command consistency)",
    "fix_4 (database cleanup)"
  ],
  "testing_protocol": {
    "environment": "Fresh Ubuntu VM or container",
    "steps": [
      "git clone repo",
      "follow GETTING_STARTED.md exactly",
      "run document analysis",
      "run image analysis",
      "verify results"
    ],
    "success_definition": "Complete workflow without errors or confusion"
  }
}